{"version":3,"sources":["components/CruiseSelector.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["CCHDO_CRUISE_INFO","flexsearchOptions","preset","tokenize","document","id","index","CruiseSelector","useState","pageFor","setPageFor","open","setOpen","loaded","setLoaded","cruises","setCrusies","Document","setIndex","searchQuery","setSearchQuery","searchResults","setSearchResults","selectedCruise","setSelectedCruise","useEffect","a","searchPageFor","URLSearchParams","window","location","search","get","fetch","response","json","data","sort","b","startDate","newIndex","forEach","element","add","cruiseObjects","filter","cruise","expocode","length","console","error","loadCruiseInfo","doSearch","query","idx","tokens","split","e","trim","intersection","map","token","queryIds","tokenMatch","result","union","selectedCruiseObject","undefined","PageForAlertBad","Alert","variant","PageForAlertYay","columns","dataField","isDummyField","text","formatter","_","row","rowIndex","Button","onClick","cell","str","chiSci","obj","role","name","type","value","endDate","ship","disabled","notYet","loadError","Collapse","in","Card","Body","Stack","gap","Col","md","Form","Control","placeholder","onChange","event","_cruises","ids","target","includes","className","keyField","pagination","paginationFactory","noDataIndication","handleFormSubmit","preventDefault","nativeEvent","FormData","log","Array","from","entries","Files","files","setFiles","Group","controlId","Label","v","multiple","Text","rel","href","DataTypeSelector","Check","label","App","Container","onSubmit","as","rows","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.5323c6aa.chunk.js","sourcesContent":["import React, { useEffect, useState } from \"react\";\n\nimport \"react-bootstrap-table2-paginator/dist/react-bootstrap-table2-paginator.min.css\";\n\nimport {\n  Form,\n  Button,\n  Collapse,\n  Card,\n  Stack,\n  Col,\n  Alert,\n} from \"react-bootstrap\";\n\nimport { Document, Id, IndexOptionsForDocumentSearch } from \"flexsearch\";\nimport { intersection, union } from \"lodash\";\nimport BootstrapTable from \"react-bootstrap-table-next\";\nimport paginationFactory from \"react-bootstrap-table2-paginator\";\n\nconst CCHDO_CRUISE_INFO = \"https://cchdo.ucsd.edu/api/v1/cruise/all\";\n\ninterface Participant {\n  name: string;\n  email: string;\n  role: string;\n  institution: string;\n}\n\ninterface Collections {\n  groups: string[];\n  oceans: string[];\n  programs: string[];\n  woce_lines: string[];\n}\n\ninterface Cruise {\n  id: number;\n  expocode: string;\n  startDate: string;\n  endDate: string;\n  ship: string;\n  country: string;\n  collections: Collections;\n  participants: Participant[];\n}\n\ntype CruiseSelectorStates = \"notYet\" | \"loadError\" | \"loaded\";\n\nconst flexsearchOptions: IndexOptionsForDocumentSearch<Cruise> = {\n  preset: \"match\",\n  tokenize: \"full\",\n  document: {\n    id: \"id\",\n    index: [\n      \"expocode\",\n      \"participants[]:name\",\n      \"collections:woce_lines\",\n      \"collections:groups\",\n      \"collections:programs\",\n      \"collections:oceans\",\n      \"country\",\n      \"ship\",\n      \"startDate\",\n      \"endDate\",\n      \"start_port\",\n      \"end_port\",\n      \"references[]:value\",\n      \"references[]:organization\",\n    ],\n  },\n};\n\nconst CruiseSelector = () => {\n  // Basic UI State\n  const [pageFor, setPageFor] = useState<string | null>(null);\n  const [open, setOpen] = useState<boolean>(false);\n  const [loaded, setLoaded] = useState<CruiseSelectorStates>(\"notYet\");\n\n  // Contents related to searching and filtering\n  const [cruises, setCrusies] = useState<Cruise[]>([]);\n  const [index, setIndex] = useState(new Document(flexsearchOptions));\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [searchResults, setSearchResults] = useState<Cruise[]>([]);\n\n  // If a cruise is selected, its value\n  const [selectedCruise, setSelectedCruise] = useState<number | undefined>();\n\n  // Load the cruise metadata from CCHDO and parse into search index\n  // If the ?for= query param is set, try to find that expocode and set as the selected cruise\n  useEffect(() => {\n    async function loadCruiseInfo() {\n      let searchPageFor = new URLSearchParams(window.location.search).get(\n        \"for\"\n      );\n      setPageFor(searchPageFor);\n\n      try {\n        let response = await fetch(CCHDO_CRUISE_INFO);\n        let data: Cruise[] = await response.json();\n        data = data.sort((a, b) =>\n          a.startDate > b.startDate\n            ? a.startDate === b.startDate\n              ? 0\n              : -1\n            : -0\n        );\n        setCrusies(data);\n\n        const newIndex = new Document(flexsearchOptions);\n        data.forEach((element) => {\n          newIndex.add(element);\n        });\n        setIndex(newIndex);\n\n        if (searchPageFor !== null) {\n          let cruiseObjects = data.filter(\n            (cruise) => cruise.expocode === searchPageFor\n          );\n          if (cruiseObjects.length === 1) {\n            setSelectedCruise(cruiseObjects[0].id);\n          }\n        }\n\n        setLoaded(\"loaded\");\n      } catch (err) {\n        console.error(err);\n        setLoaded(\"loadError\");\n      }\n    }\n    loadCruiseInfo();\n  }, []);\n\n  const doSearch = (query: string, idx: Document<Cruise>): Id[] => {\n    const tokens = query.split(/(\\s+)/).filter((e) => e.trim().length > 0);\n    if (tokens.length > 1) {\n      return intersection(...tokens.map((token) => doSearch(token, idx)));\n    }\n    const queryResults = idx.search(query);\n    const queryIds = queryResults.map((tokenMatch) => tokenMatch.result);\n    return union(...queryIds);\n  };\n\n  const setSearchFilteredCruises = (_cruises: Cruise[], ids: Id[]): void => {\n    setSearchResults(_cruises.filter((cruise) => ids.includes(cruise.id)));\n  };\n\n  const selectedCruiseObject: Cruise | undefined = selectedCruise\n    ? cruises.filter((cruise) => cruise.id === selectedCruise)[0]\n    : undefined;\n\n  const PageForAlertBad = (\n    <Alert variant=\"danger\">\n      This was a page for {pageFor}, but no cruise with that Expocode could be\n      found, use the Select Cruise button to select an existing cruise. Or\n      ignore this message to not select a cruise.\n    </Alert>\n  );\n  const PageForAlertYay = (\n    <Alert variant=\"success\">\n      This is a page for {pageFor}, if you didn't want this, use the Select\n      Cruise button to select a different cruise or Clear Cruise to not select\n      anything.\n    </Alert>\n  );\n\n  const buttonText = {\n    notYet: \"Loading cruises...\",\n    loadError: \"Could not load cruise list\",\n    loaded: `Select Cruise`,\n  };\n\n  const listFormatter = (cell: string[], row: any) => {\n    if (cell.length === 0) {\n      return <span>-</span>;\n    }\n    return (\n      <ul>\n        {cell.map((str) => (\n          <li key={str}>{str}</li>\n        ))}\n      </ul>\n    );\n  };\n  const chiSciFormatter = (cell: Participant[], row: any) => {\n    const chiSci = cell.filter((obj) => obj.role === \"Chief Scientist\");\n    if (chiSci.length === 0) {\n      return <span>-</span>;\n    }\n    return (\n      <ul>\n        {chiSci.map((str) => (\n          <li key={str.name}>{str.name}</li>\n        ))}\n      </ul>\n    );\n  };\n\n  const columns = [\n    {\n      dataField: \"df1\",\n      isDummyField: true,\n      text: \"Select\",\n      formatter: (_: any, row: Cruise, rowIndex: number) => {\n        return (\n          <Button\n            onClick={() => {\n              setSelectedCruise(row.id);\n              setOpen(false);\n              setPageFor(null);\n            }}\n          >\n            Select\n          </Button>\n        );\n      },\n    },\n    {\n      dataField: \"expocode\",\n      text: \"Expocode\",\n    },\n    {\n      dataField: \"collections.woce_lines\",\n      text: \"Line\",\n      formatter: listFormatter,\n    },\n    {\n      dataField: \"ship\",\n      text: \"Ship\",\n    },\n    {\n      dataField: \"country\",\n      text: \"Country\",\n    },\n    {\n      dataField: \"startDate\",\n      text: \"Start Date\",\n    },\n    {\n      dataField: \"endDate\",\n      text: \"End Date\",\n    },\n    {\n      dataField: \"participants\",\n      text: \"Chi Sci\",\n      formatter: chiSciFormatter,\n    },\n  ];\n\n  return (\n    <div>\n      {\n        // This hidden input is the form element which actually sends the selected cruise to the submit API\n        // Everything else is to help the user select its value, every other html input MUST NOT have a name attribute\n      }\n      <input\n        type=\"hidden\"\n        name=\"cruise_id\"\n        id=\"cruise_id\"\n        value={selectedCruise}\n      />\n\n      {pageFor && loaded === \"loaded\" && !selectedCruise && PageForAlertBad}\n      {pageFor && loaded === \"loaded\" && selectedCruise && PageForAlertYay}\n      <p>\n        Selected Cruise:{\" \"}\n        {selectedCruise\n          ? `${selectedCruiseObject?.expocode} (${selectedCruiseObject?.startDate} to ${selectedCruiseObject?.endDate} on the ${selectedCruiseObject?.ship})`\n          : \"None (this is OK)\"}\n      </p>\n      <Button\n        onClick={() => setOpen(!open)}\n        variant=\"outline-secondary\"\n        disabled={loaded !== \"loaded\"}\n      >\n        {selectedCruise ? \"Change Cruise\" : buttonText[loaded]}\n      </Button>\n\n      {selectedCruise && (\n        <Button\n          onClick={() => {\n            setSelectedCruise(undefined);\n            setPageFor(null);\n          }}\n          variant=\"outline-secondary\"\n        >\n          Clear Cruise\n        </Button>\n      )}\n\n      <Collapse in={open}>\n        <Card>\n          <Card.Body>\n            <Stack gap={1}>\n              <Col md={4}>\n                <Form.Control\n                  type=\"search\"\n                  placeholder=\"search...\"\n                  value={searchQuery}\n                  onChange={(event) => {\n                    setSearchQuery(event.target.value);\n                    setSearchFilteredCruises(\n                      cruises,\n                      doSearch(event.target.value, index)\n                    );\n                  }}\n                />\n              </Col>\n              <div className=\"table-responsive-lg\">\n                <BootstrapTable\n                  keyField=\"expocode\"\n                  data={searchQuery.trim() === \"\" ? cruises : searchResults}\n                  columns={columns}\n                  pagination={paginationFactory({})}\n                  noDataIndication=\"No Cruises Found\"\n                />\n              </div>\n            </Stack>\n          </Card.Body>\n        </Card>\n      </Collapse>\n    </div>\n  );\n};\n\nexport default CruiseSelector;\n","import React, { useState } from \"react\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nimport {\n  Form,\n  Button,\n  Container,\n} from \"react-bootstrap\";\n\nimport CruiseSelector from \"./components/CruiseSelector\";\n\nconst handleFormSubmit = (event: React.SyntheticEvent) => {\n  event.preventDefault();\n  const target = event.nativeEvent.target as HTMLFormElement;\n  const data = new FormData(target);\n  console.log(Array.from(data.entries()));\n};\n\nconst Files = () => {\n  const [files, setFiles] = useState<string[]>([]);\n  const handleFileSelect = (event: React.SyntheticEvent) => {\n    const target = event.target as HTMLInputElement;\n    if (target.files === null) {\n      return;\n    }\n    setFiles(Array.from(target.files).map((v) => v.name));\n  };\n  return (\n    <Form.Group className=\"mb-3\" controlId=\"submitter_email\">\n      <Form.Label>Select FIles</Form.Label>\n      <Form.Control\n        onChange={handleFileSelect}\n        name=\"file\"\n        type=\"file\"\n        multiple\n      />\n      <Form.Text>\n        You can select multiple files using your system dialog box. (see how:{\" \"}\n        <a\n          rel=\"noopener noreferrer\"\n          target=\"_blank\"\n          href=\"https://support.apple.com/en-lamr/guide/mac-help/mchlp1378/mac\"\n        >\n          mac\n        </a>\n        ,{\" \"}\n        <a\n          rel=\"noopener noreferrer\"\n          target=\"_blank\"\n          href=\"https://nerdschalk.com/how-to-select-multiple-files-on-windows-10-in-2021-7-ways/\"\n        >\n          windows\n        </a>\n        )\n      </Form.Text>\n      {files.length > 1 && (\n        <ul>\n          {files.map((v) => (\n            <li key={v}>{v}</li>\n          ))}\n        </ul>\n      )}\n    </Form.Group>\n  );\n};\n\n\nconst DataTypeSelector = () => {\n  return (\n    <div>\n      <Form.Group className=\"mb-3\" controlId=\"submission_notes_private\">\n        <Form.Check\n          id=\"submission_data_type_btl\"\n          name=\"submission_data_type\"\n          value=\"bottle\"\n          type=\"checkbox\"\n          label=\"bottle data\"\n        />\n        <Form.Check\n          id=\"submission_data_type_ctd\"\n          name=\"submission_data_type\"\n          value=\"ctd\"\n          type=\"checkbox\"\n          label=\"CTD data\"\n        />\n        <Form.Check\n          id=\"submission_data_type_raw\"\n          name=\"submission_data_type\"\n          value=\"raw\"\n          type=\"checkbox\"\n          label=\"raw ctd data\"\n        />\n        <Form.Check\n          id=\"submission_data_type_other\"\n          name=\"submission_data_type\"\n          value=\"other\"\n          type=\"checkbox\"\n          label=\"other\"\n        />\n        <Form.Text>select all that apply</Form.Text>\n      </Form.Group>\n    </div>\n  );\n};\n\nfunction App() {\n  return (\n    <Container>\n      <h1>CCHDO Submit Page</h1>\n      <h2>Required Information</h2>\n      <Form onSubmit={handleFormSubmit}>\n        <Form.Group className=\"mb-3\" controlId=\"submitter_name\">\n          <Form.Label>Your Name</Form.Label>\n          <Form.Control\n            name=\"submitter_name\"\n            type=\"text\"\n            placeholder=\"Your Name\"\n          />\n        </Form.Group>\n\n        <Form.Group className=\"mb-3\" controlId=\"submitter_email\">\n          <Form.Label>Your Email</Form.Label>\n          <Form.Control\n            name=\"submitter_email\"\n            type=\"email\"\n            placeholder=\"example@example.edu\"\n          />\n        </Form.Group>\n\n        <h2>Files to Upload</h2>\n        <Files />\n\n        <h2>Optional Questions about uploaded data</h2>\n\n        <h3>Associate with a cruise?</h3>\n        <CruiseSelector />\n\n        <h3>Associate with data type?</h3>\n        <DataTypeSelector />\n\n        <h3>Any Notes?</h3>\n        <Form.Group className=\"mb-3\" controlId=\"submission_notes\">\n          <Form.Label>Public Submission Notes</Form.Label>\n          <Form.Control as=\"textarea\" rows={3} />\n          <Form.Text>\n            {\" \"}\n            Anything else users of the data should know? These notes will appear\n            on cruise pages.\n          </Form.Text>\n        </Form.Group>\n\n        <Form.Group className=\"mb-3\" controlId=\"submission_notes_private\">\n          <Form.Label>Private Submission Notes</Form.Label>\n          <Form.Control as=\"textarea\" rows={3} />\n          <Form.Text>\n            Anything else you would like CCHDO staff to know? If data are not\n            intended for public access, please note why here\n          </Form.Text>\n        </Form.Group>\n\n        <hr />\n\n        <Button variant=\"primary\" type=\"submit\">\n          Submit\n        </Button>\n      </Form>\n    </Container>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}