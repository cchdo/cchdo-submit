(this["webpackJsonpcchdo-submit"]=this["webpackJsonpcchdo-submit"]||[]).push([[0],{24:function(e,t,n){},31:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),s=n(18),r=n.n(s),i=(n(24),n(12)),o=n.n(i),l=n(19),u=n(15),j=n(6),d=(n(26),n(34)),b=n(35),h=n(33),p=n(13),m=n(14),x=n(0),O="https://cchdo.ucsd.edu/api/v1/cruise/all",f=function(e){e.preventDefault();var t=e.nativeEvent.target,n=new FormData(t);console.log(Array.from(n.entries()))},v=function(){var e=Object(c.useState)([]),t=Object(j.a)(e,2),n=t[0],a=t[1];return Object(x.jsxs)(d.a.Group,{className:"mb-3",controlId:"submitter_email",children:[Object(x.jsx)(d.a.Label,{children:"Select FIles"}),Object(x.jsx)(d.a.Control,{onChange:function(e){var t=e.target;null!==t.files&&a(Array.from(t.files).map((function(e){return e.name})))},name:"file",type:"file",multiple:!0}),Object(x.jsxs)(d.a.Text,{children:["You can select multiple files using your system dialog box. (see how:"," ",Object(x.jsx)("a",{rel:"noopener noreferrer",target:"_blank",href:"https://support.apple.com/en-lamr/guide/mac-help/mchlp1378/mac",children:"mac"}),","," ",Object(x.jsx)("a",{rel:"noopener noreferrer",target:"_blank",href:"https://nerdschalk.com/how-to-select-multiple-files-on-windows-10-in-2021-7-ways/",children:"windows"}),")"]}),n.length>1&&Object(x.jsx)("ul",{children:n.map((function(e){return Object(x.jsx)("li",{children:e},e)}))})]})},_=function(e){var t=e.cruise,n=t.collections.woce_lines;return 0===n.length?Object(x.jsx)("span",{}):Object(x.jsx)("ul",{children:n.map((function(e){return Object(x.jsx)("li",{children:e},"".concat(t.expocode,"_").concat(e))}))})},y=function(e){var t=e.cruise,n=new Set(["Chief Scientist","Co-Chief Scientist"]),c=t.participants;return 0===(c=c.filter((function(e){return n.has(e.role)}))).length?Object(x.jsx)("span",{}):Object(x.jsx)("ul",{children:c.map((function(e){return Object(x.jsx)("li",{children:e.name},"".concat(t.expocode,"_").concat(e.name))}))})},g={preset:"match",tokenize:"full",document:{id:"id",index:["expocode","participants[]:name","collections:woce_lines","collections:groups","collections:programs","collections:oceans","ship","startDate","endDate","start_port","end_port","references[]:value"]}},w=function(){var e=Object(c.useState)("notYet"),t=Object(j.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)([]),r=Object(j.a)(s,2),i=r[0],d=r[1],f=Object(c.useState)([]),v=Object(j.a)(f,2),w=v[0],C=v[1],k=Object(c.useState)(!1),S=Object(j.a)(k,2),D=S[0],I=S[1],N=Object(c.useState)(new p.Document(g)),L=Object(j.a)(N,2),T=L[0],A=L[1],E=function e(t,n){var c=t.split(/(\s+)/).filter((function(e){return e.trim().length>0}));if(c.length>1)return m.intersection.apply(void 0,Object(u.a)(c.map((function(t){return e(t,n)}))));var a=n.search(t).map((function(e){return e.result}));return m.union.apply(void 0,Object(u.a)(a))};Object(c.useEffect)((function(){function e(){return(e=Object(l.a)(o.a.mark((function e(){var t,n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(O);case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,d(n),c=new p.Document(g),n.forEach((function(e){c.add(e)})),A(c),a("loaded"),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),console.error(e.t0),a("loadError");case 18:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var F={notYet:"Loading cruises...",loadError:"Could not load cruise list",loaded:"Select Cruise: (".concat(i.length," cruises)")};return Object(x.jsxs)("div",{children:[Object(x.jsx)(b.a,{onClick:function(){return I(!D)},variant:"outline-secondary",disabled:"loaded"!==n,children:F[n]}),!0===D&&Object(x.jsxs)("div",{children:[Object(x.jsx)("input",{onChange:function(e){return t=i,n=E(e.target.value,T),void C(t.filter((function(e){return n.includes(e.id)})));var t,n}})," ",Object(x.jsx)(h.a,{children:Object(x.jsx)("tbody",{children:w.map((function(e){return Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:e.expocode}),Object(x.jsx)("td",{children:Object(x.jsx)(_,{cruise:e})}),Object(x.jsx)("td",{children:e.ship}),Object(x.jsx)("td",{children:e.country}),Object(x.jsx)("td",{children:e.startDate}),Object(x.jsx)("td",{children:e.endDate}),Object(x.jsx)("td",{children:Object(x.jsx)(y,{cruise:e})})]},e.id)}))})})]})]})},C=function(){return Object(x.jsx)("div",{children:Object(x.jsxs)(d.a.Group,{className:"mb-3",controlId:"submission_notes_private",children:[Object(x.jsx)(d.a.Check,{id:"submission_data_type_btl",name:"submission_data_type",value:"bottle",type:"checkbox",label:"bottle data"}),Object(x.jsx)(d.a.Check,{id:"submission_data_type_ctd",name:"submission_data_type",value:"ctd",type:"checkbox",label:"CTD data"}),Object(x.jsx)(d.a.Check,{id:"submission_data_type_raw",name:"submission_data_type",value:"raw",type:"checkbox",label:"raw ctd data"}),Object(x.jsx)(d.a.Check,{id:"submission_data_type_other",name:"submission_data_type",value:"other",type:"checkbox",label:"other"}),Object(x.jsx)(d.a.Text,{children:"select all that apply"})]})})};var k=function(){return Object(x.jsxs)("div",{children:[Object(x.jsx)("h1",{children:"CCHDO Submit Page"}),Object(x.jsx)("h2",{children:"Required Information"}),Object(x.jsxs)(d.a,{onSubmit:f,children:[Object(x.jsxs)(d.a.Group,{className:"mb-3",controlId:"submitter_name",children:[Object(x.jsx)(d.a.Label,{children:"Your Name"}),Object(x.jsx)(d.a.Control,{name:"submitter_name",type:"text",placeholder:"Your Name"})]}),Object(x.jsxs)(d.a.Group,{className:"mb-3",controlId:"submitter_email",children:[Object(x.jsx)(d.a.Label,{children:"Your Email"}),Object(x.jsx)(d.a.Control,{name:"submitter_email",type:"email",placeholder:"example@example.edu"})]}),Object(x.jsx)("h2",{children:"Files to Upload"}),Object(x.jsx)(v,{}),Object(x.jsx)("h2",{children:"Optional Questions about uploaded data"}),Object(x.jsx)("h3",{children:"Associate with a cruise?"}),Object(x.jsx)(w,{}),Object(x.jsx)("h3",{children:"Associate with data type?"}),Object(x.jsx)(C,{}),Object(x.jsx)("h3",{children:"Any Notes?"}),Object(x.jsxs)(d.a.Group,{className:"mb-3",controlId:"submission_notes",children:[Object(x.jsx)(d.a.Label,{children:"Public Submission Notes"}),Object(x.jsx)(d.a.Control,{as:"textarea",rows:3}),Object(x.jsxs)(d.a.Text,{children:[" ","Anything else users of the data should know? These notes will appear on cruise pages."]})]}),Object(x.jsxs)(d.a.Group,{className:"mb-3",controlId:"submission_notes_private",children:[Object(x.jsx)(d.a.Label,{children:"Private Submission Notes"}),Object(x.jsx)(d.a.Control,{as:"textarea",rows:3}),Object(x.jsx)(d.a.Text,{children:"Anything else you would like CCHDO staff to know? If data are not intended for public access, please note why here"})]}),Object(x.jsx)("hr",{}),Object(x.jsx)(b.a,{variant:"primary",type:"submit",children:"Submit"})]})]})},S=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,36)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),s(e),r(e)}))};r.a.render(Object(x.jsx)(a.a.StrictMode,{children:Object(x.jsx)(k,{})}),document.getElementById("root")),S()}},[[31,1,2]]]);
//# sourceMappingURL=main.9ff1f144.chunk.js.map