(this["webpackJsonpcchdo-submit"]=this["webpackJsonpcchdo-submit"]||[]).push([[0],{108:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(12),s=n.n(r),i=(n(57),n(30)),o=n.n(i),l=n(49),u=n(33),d=n(9),j=(n(59),n(60),n(110)),b=n(111),h=n(31),p=n(32),m=n(50),x=n.n(m),O=n(51),f=n.n(O),y=n(1),v="https://cchdo.ucsd.edu/api/v1/cruise/all",_=function(e){e.preventDefault();var t=e.nativeEvent.target,n=new FormData(t);console.log(Array.from(n.entries()))},g=function(){var e=Object(a.useState)([]),t=Object(d.a)(e,2),n=t[0],c=t[1];return Object(y.jsxs)(j.a.Group,{className:"mb-3",controlId:"submitter_email",children:[Object(y.jsx)(j.a.Label,{children:"Select FIles"}),Object(y.jsx)(j.a.Control,{onChange:function(e){var t=e.target;null!==t.files&&c(Array.from(t.files).map((function(e){return e.name})))},name:"file",type:"file",multiple:!0}),Object(y.jsxs)(j.a.Text,{children:["You can select multiple files using your system dialog box. (see how:"," ",Object(y.jsx)("a",{rel:"noopener noreferrer",target:"_blank",href:"https://support.apple.com/en-lamr/guide/mac-help/mchlp1378/mac",children:"mac"}),","," ",Object(y.jsx)("a",{rel:"noopener noreferrer",target:"_blank",href:"https://nerdschalk.com/how-to-select-multiple-files-on-windows-10-in-2021-7-ways/",children:"windows"}),")"]}),n.length>1&&Object(y.jsx)("ul",{children:n.map((function(e){return Object(y.jsx)("li",{children:e},e)}))})]})},w={preset:"match",tokenize:"full",document:{id:"id",index:["expocode","participants[]:name","collections:woce_lines","collections:groups","collections:programs","collections:oceans","ship","startDate","endDate","start_port","end_port","references[]:value"]}},C=function(){var e=Object(a.useState)("notYet"),t=Object(d.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)([]),s=Object(d.a)(r,2),i=s[0],j=s[1],m=Object(a.useState)([]),O=Object(d.a)(m,2),_=O[0],g=O[1],C=Object(a.useState)(!1),k=Object(d.a)(C,2),S=k[0],D=k[1],F=Object(a.useState)(new h.Document(w)),I=Object(d.a)(F,2),N=I[0],E=I[1],L=Object(a.useState)(""),T=Object(d.a)(L,2),A=T[0],G=T[1],Y=function e(t,n){var a=t.split(/(\s+)/).filter((function(e){return e.trim().length>0}));if(a.length>1)return p.intersection.apply(void 0,Object(u.a)(a.map((function(t){return e(t,n)}))));var c=n.search(t).map((function(e){return e.result}));return p.union.apply(void 0,Object(u.a)(c))};Object(a.useEffect)((function(){function e(){return(e=Object(l.a)(o.a.mark((function e(){var t,n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(v);case 3:return t=e.sent,e.next=6,t.json();case 6:n=(n=e.sent).sort((function(e,t){return e.startDate>t.startDate?e.startDate===t.startDate?0:-1:-0})),j(n),a=new h.Document(w),n.forEach((function(e){a.add(e)})),E(a),c("loaded"),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),console.error(e.t0),c("loadError");case 19:case"end":return e.stop()}}),e,null,[[0,15]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var P={notYet:"Loading cruises...",loadError:"Could not load cruise list",loaded:"Select Cruise: (".concat(i.length," cruises)")},B=[{dataField:"df1",isDummyField:!0,text:"Select",formatter:function(e,t,n){return Object(y.jsx)(b.a,{onClick:function(){return console.log(t.id)},children:"Select"})}},{dataField:"expocode",text:"Expocode"},{dataField:"collections.woce_lines",text:"Line",formatter:function(e,t){return 0===e.length?Object(y.jsx)("span",{children:"-"}):Object(y.jsx)("ul",{children:e.map((function(e){return Object(y.jsx)("li",{children:e},e)}))})}},{dataField:"ship",text:"Ship"},{dataField:"country",text:"Country"},{dataField:"startDate",text:"Start Date"},{dataField:"endDate",text:"End Date"},{dataField:"participants",text:"Chi Sci",formatter:function(e,t){var n=e.filter((function(e){return"Chief Scientist"===e.role}));return 0===n.length?Object(y.jsx)("span",{children:"-"}):Object(y.jsx)("ul",{children:n.map((function(e){return Object(y.jsx)("li",{children:e.name},e.name)}))})}}];return Object(y.jsxs)("div",{children:[Object(y.jsx)(b.a,{onClick:function(){return D(!S)},variant:"outline-secondary",disabled:"loaded"!==n,children:P[n]}),!0===S&&Object(y.jsxs)("div",{children:[Object(y.jsx)("input",{type:"search",value:A,onChange:function(e){var t,n;G(e.target.value),t=i,n=Y(e.target.value,N),g(t.filter((function(e){return n.includes(e.id)})))}}),Object(y.jsx)(x.a,{keyField:"expocode",data:""===A.trim()?i:_,columns:B,pagination:f()({}),noDataIndication:"No Cruises Found"})]})]})},k=function(){return Object(y.jsx)("div",{children:Object(y.jsxs)(j.a.Group,{className:"mb-3",controlId:"submission_notes_private",children:[Object(y.jsx)(j.a.Check,{id:"submission_data_type_btl",name:"submission_data_type",value:"bottle",type:"checkbox",label:"bottle data"}),Object(y.jsx)(j.a.Check,{id:"submission_data_type_ctd",name:"submission_data_type",value:"ctd",type:"checkbox",label:"CTD data"}),Object(y.jsx)(j.a.Check,{id:"submission_data_type_raw",name:"submission_data_type",value:"raw",type:"checkbox",label:"raw ctd data"}),Object(y.jsx)(j.a.Check,{id:"submission_data_type_other",name:"submission_data_type",value:"other",type:"checkbox",label:"other"}),Object(y.jsx)(j.a.Text,{children:"select all that apply"})]})})};var S=function(){return Object(y.jsxs)("div",{children:[Object(y.jsx)("h1",{children:"CCHDO Submit Page"}),Object(y.jsx)("h2",{children:"Required Information"}),Object(y.jsxs)(j.a,{onSubmit:_,children:[Object(y.jsxs)(j.a.Group,{className:"mb-3",controlId:"submitter_name",children:[Object(y.jsx)(j.a.Label,{children:"Your Name"}),Object(y.jsx)(j.a.Control,{name:"submitter_name",type:"text",placeholder:"Your Name"})]}),Object(y.jsxs)(j.a.Group,{className:"mb-3",controlId:"submitter_email",children:[Object(y.jsx)(j.a.Label,{children:"Your Email"}),Object(y.jsx)(j.a.Control,{name:"submitter_email",type:"email",placeholder:"example@example.edu"})]}),Object(y.jsx)("h2",{children:"Files to Upload"}),Object(y.jsx)(g,{}),Object(y.jsx)("h2",{children:"Optional Questions about uploaded data"}),Object(y.jsx)("h3",{children:"Associate with a cruise?"}),Object(y.jsx)(C,{}),Object(y.jsx)("h3",{children:"Associate with data type?"}),Object(y.jsx)(k,{}),Object(y.jsx)("h3",{children:"Any Notes?"}),Object(y.jsxs)(j.a.Group,{className:"mb-3",controlId:"submission_notes",children:[Object(y.jsx)(j.a.Label,{children:"Public Submission Notes"}),Object(y.jsx)(j.a.Control,{as:"textarea",rows:3}),Object(y.jsxs)(j.a.Text,{children:[" ","Anything else users of the data should know? These notes will appear on cruise pages."]})]}),Object(y.jsxs)(j.a.Group,{className:"mb-3",controlId:"submission_notes_private",children:[Object(y.jsx)(j.a.Label,{children:"Private Submission Notes"}),Object(y.jsx)(j.a.Control,{as:"textarea",rows:3}),Object(y.jsx)(j.a.Text,{children:"Anything else you would like CCHDO staff to know? If data are not intended for public access, please note why here"})]}),Object(y.jsx)("hr",{}),Object(y.jsx)(b.a,{variant:"primary",type:"submit",children:"Submit"})]})]})},D=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,112)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))};s.a.render(Object(y.jsx)(c.a.StrictMode,{children:Object(y.jsx)(S,{})}),document.getElementById("root")),D()},57:function(e,t,n){}},[[108,1,2]]]);
//# sourceMappingURL=main.7acad5f0.chunk.js.map